= 2005 January 26 00:27

All pages should now validate. The edit window no longer uses the attribute wrap="virtual", and the search forms are on their own now, no longer wrapped in ''p'' elements. (This is invalid because the ''form'' element is block-level markup, and ''p'' elements can only contain ''inline'' markup.

Once I get lists sorted out, and decide on a better way to break the input into chunks (than my current double-newline), we will be 100% Valid XHTML 1.0 Strict! Hooray!

----

validator problems are all the same: text or a elements showing up outside of a suitable container. the footers are the main culprits. how can I generate a div for the body and for the footer? that would solve the problem.

''Use a file called END for the footer, ref it in '''wiki(.cgi)''' ''

I think I solved the bulk of this problem. Instead of printing out the HTML as it is being generated, I now save it somewhere. There are two variables - $content and $footer - that accumulate the page content and footer, resp. (The header isn't variable enough to warrent this kind of special treatment.)

The tricky part was that the footers are different for different page types. Accumulating content in variables is a nice way to break apart generation from embedding (in an enclosing element).

Once I'm ready to output, I call generate_xhtml(), passing it a page title. It spews out all the boilerplate - html, head, & body elements - and wraps the content (found in $content) in a content div element, and the footer in a footer div. Both divs have an id, so they are styleable using CSS.

What ''doesn't'' currently work are the embeddable search forms, and the wrap="virtual" attribute on the edit page.

The search forms  are wrapped in a p element, violating the standard. They need to sit directly inside the content div. ''(Still broken.)''

I guess I need to eleminate the wrap attribute; I hope nothing breaks. ''(Done. I think it's fine.)''
